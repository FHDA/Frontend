(this.webpackJsonplearn=this.webpackJsonplearn||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){},128:function(e,t,a){},138:function(e,t,a){},163:function(e,t,a){},193:function(e,t,a){},195:function(e,t,a){},255:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){"use strict";a.r(t);var s=a(0),c=a.n(s),n=a(46),r=a.n(n),i=(a(163),a(52)),l=a.n(i),o=a(67),d=a(23),j=(a(118),a(128),a(21)),h=a.p+"static/media/logo_district.ef704a49.png",u=a(1);function b(){return Object(u.jsx)("div",{className:"home",children:Object(u.jsxs)("div",{className:"container",children:[Object(u.jsx)("div",{className:"left",children:Object(u.jsx)("img",{src:h,alt:""})}),Object(u.jsxs)("div",{className:"right",children:[Object(u.jsx)("h1",{children:"FHDA Time"}),Object(u.jsx)("p",{className:"description",children:"Some description here"}),Object(u.jsx)("div",{className:"divider"}),Object(u.jsx)("p",{className:"content",children:"More about this project. asdasdasdsa asdasdasd. skasdkasldasdasdamsdlmas;dmas;dmas;ldm;asmdsa/ askdaksd;asmda;sdm .asdlkasndasd;sa More about this project. asdasdasdsa asdasdasd. skasdkasldasdasdamsdlmas;dmas;dmas;ldm;asmdsa/ askdaksd;asmda;sdm .asdlkasndasd;sa"}),Object(u.jsx)(j.b,{className:"searchbutton",to:"/catalog",children:"Catalog"})]})]})})}a(119);var m=a(80),O=function(e){return Object(u.jsx)("div",{className:"card h-auto course-item",style:{width:"80%",marginBottom:"5px"},onClick:function(){e.handlerClick(e.uid)},children:Object(u.jsxs)("div",{className:"card-body",children:[Object(u.jsx)("h5",{className:"card-title",children:e.courseName}),Object(u.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:e.courseNum}),Object(u.jsx)("p",{className:"card-text",children:"45% enrolled"}),Object(u.jsx)("p",{className:"card-text",children:"".concat(e.unit," Units")})]})})},x=a(28),p=a.n(x),g=a(269),f=a(96),v=a(14),N=a(15),S=a(37),k=a(18),y=a(17),C=a(267),_=a(268),I=a(158),A=(a(138),function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(v.a)(this,a),(s=t.call(this,e)).state={campus:"DeAnza",quarter:"Summer",year:"2021"},s.handleSelect=s.handleSelect.bind(Object(S.a)(s)),s}return Object(N.a)(a,[{key:"handleSelect",value:function(e){this.props.clearCardsHandler();var t=(e=e.target.id).substring(0,e.indexOf(":")),a=e.substring(e.indexOf(":")+1);this.setState(Object(f.a)({},"".concat(t),a),(function(){var e=localStorage.getItem("cache_list");e?(e=JSON.parse(e)).length>8&&(localStorage.removeItem(e[0]),e=e.shift()):(e=[],localStorage.setItem("cache_list",JSON.stringify(e)));var t=JSON.parse(localStorage.getItem(JSON.stringify(this.state)));t?this.props.filterHandler(this.state,t):p.a.get("https://fhda-api-test.azurewebsites.net/course_list",{params:{year:this.state.year,quarter:this.state.quarter}}).then(function(e){this.props.filterHandler(this.state,e)}.bind(this)).catch((function(e){console.log(e)}))}))}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"content-center",children:[Object(u.jsxs)("div",{className:"line-select line-select-top",children:[Object(u.jsxs)("div",{className:"col-common",children:[Object(u.jsx)("h5",{children:"Campus:"}),Object(u.jsxs)(C.a,{variant:"danger",as:_.a,title:this.state.campus,children:[Object(u.jsx)(I.a.Item,{onClick:this.handleSelect,id:"campus:DeAnza",children:"DeAnza"}),Object(u.jsx)(I.a.Item,{onClick:this.handleSelect,id:"campus:Foothill",children:"Foothill (Coming Soon)"})]})]}),Object(u.jsxs)("div",{className:"col-common",children:[Object(u.jsx)("h5",{children:"Quarter:"}),Object(u.jsxs)(C.a,{variant:"danger",as:_.a,title:this.state.quarter,children:[Object(u.jsx)(I.a.Item,{onClick:this.handleSelect,id:"quarter:Fall",children:"Fall"}),Object(u.jsx)(I.a.Item,{onClick:this.handleSelect,id:"quarter:Winter",children:"Winter"}),Object(u.jsx)(I.a.Item,{onClick:this.handleSelect,id:"quarter:Spring",children:"Spring"}),Object(u.jsx)(I.a.Item,{onClick:this.handleSelect,id:"quarter:Summer",children:"Summer"})]})]})]}),Object(u.jsxs)("div",{className:"ccs",children:[Object(u.jsx)("label",{className:"form-label",htmlFor:"courseSearch",children:Object(u.jsx)("h5",{children:"Search Course"})}),Object(u.jsx)("input",{type:"text",id:"courseSearch",className:"form-control",onChange:this.props.searchCourseHandler})]}),Object(u.jsxs)("div",{className:"col-common",children:[Object(u.jsx)("h5",{children:"Year: "}),Object(u.jsxs)(C.a,{variant:"dark",as:_.a,title:this.state.year,children:[Object(u.jsx)(I.a.Item,{onClick:this.handleSelect,id:"year:2021",children:"2021 (Usable)"}),Object(u.jsx)(I.a.Item,{onClick:this.handleSelect,id:"year:1998",children:"1998 (Not Available)"})]})]})]})}}]),a}(c.a.Component)),w=a(149),T=a.n(w),q=function(e){return Object(u.jsx)(T.a,{type:e.type,color:e.color,height:e.height,width:e.width,className:"loading"})};var L=function(){var e=Object(s.useState)([]),t=Object(d.a)(e,2),a=t[0],n=t[1],r=Object(s.useState)([]),i=Object(d.a)(r,2),j=i[0],h=i[1],b=Object(s.useState)({}),m=Object(d.a)(b,2),x=(m[0],m[1]),f=Object(s.useState)(),v=Object(d.a)(f,2),N=v[0],S=v[1],k=Object(s.useState)(!0),y=Object(d.a)(k,2),C=y[0],_=y[1];String.prototype.splice=function(e,t,a){return this.slice(0,e)+a+this.slice(e+Math.abs(t))};var I=Object(s.useCallback)((function(e,t){for(var a=[],s=0;s<t.length;s++)"+"===t[s]&&a.push(s);for(var c=t.length;c>0;)"+"!==t[c]?c--:t=t.splice(c,0,"\\");for(var n=new RegExp(t,"i"),r=[],i=0;i<e.length;i++)n.test(e[i].courseName)&&r.push(e[i]);return r}),[]);Object(s.useEffect)(Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.clear(),t=[],p.a.get("https://fhda-api-test.azurewebsites.net/course_list?year=2021&quarter=Summer").then((function(e){for(var a in localStorage.setItem('{"campus":"DeAnza","quarter":"Summer","year":"2021"}',JSON.stringify(e.data)),e.data){var s=e.data[a],c={key:a,courseName:s.courseTitle,courseNum:s.courseNum,unit:+s.numCredit};t.push(c)}localStorage.setItem("cache_list",JSON.stringify([{campus:"DeAnza",quarter:"Summer",year:"2021"}])),localStorage.setItem('{"campus":"DeAnza","quarter":"Summer","year":"2021"}'.concat("cards"),JSON.stringify(t)),n(t),h(t),S({campus:"DeAnza",quarter:"Summer",year:"2021"}),_(!1)}));case 3:case"end":return e.stop()}}),e)}))),[]);var w=function(e){var t=JSON.parse(localStorage.getItem(JSON.stringify(N)));x(t[e])},T=Object(u.jsx)("p",{children:"There are no courses matching your filters."});return C?T=Object(u.jsx)(q,{type:"spinningBubbles",color:"#8f0505",height:"15%",width:"15%",className:"loading"}):0!==j.length&&(T=j.map((function(e){return Object(u.jsx)(g.a.Item,{children:Object(u.jsx)(O,{uid:e.key,courseName:e.courseName,courseNum:e.courseNum,unit:e.unit,handlerClick:w},e.key)})})),T=Object(u.jsx)(g.a,{children:T})),Object(u.jsxs)(c.a.Fragment,{children:[Object(u.jsx)("div",{className:"flex",children:Object(u.jsx)(A,{filterHandler:function(e,t){var a=[];if(JSON.parse(localStorage.getItem(JSON.stringify(e))))a=JSON.parse(localStorage.getItem(JSON.stringify(e).concat("cards")));else{for(var s in t.data){var c=t.data[s],r={key:s,courseName:c.courseTitle,courseNum:c.courseNum,unit:+c.numCredit};a.push(r)}var i=JSON.parse(localStorage.getItem("cache_list"));i.length>8&&(localStorage.removeItem(i[0]),localStorage.removeItem(i[0].concat("cards")),i=i.shift()),localStorage.setItem(JSON.stringify(e),JSON.stringify(t.data)),i.push(e),localStorage.setItem("cache_list",JSON.stringify(i)),localStorage.setItem(JSON.stringify(e).concat("cards"),JSON.stringify(a))}S(e),n(a),h(a),_(!1)},searchCourseHandler:function(e){!function(e){x({});var t=e.trim().replace(" ","").replace(/[\\]/g,""),s=I(a,t);h(s)}(e.target.value)},clearCardsHandler:function(){_(!0),x({})}})}),Object(u.jsx)("div",{className:"contend-course",children:T})]})},J=a(16),D=a(30),E=a(152),F=a(275),M=a(150),z=a(148),H=a(272),B=a(270),P=(a(193),Object(D.c)(function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(v.a)(this,a),(s=t.call(this,e)).state={renderList:[],colNum:3,rendered:!1,filter:{}},s.updateRenderList=s.updateRenderList.bind(Object(S.a)(s)),s}return Object(N.a)(a,[{key:"updateRenderList",value:function(e){if(!this.props.oktaAuth.authStateManager._authState)return null;var t={headers:{Authorization:"Bearer ".concat(this.props.oktaAuth.authStateManager._authState.idToken.value)},params:{}};"all"==e||"all"==e.target.id||(t.params.user_id=e.target.id);var a=[];p.a.get("http://127.0.0.1:5000/story",t).then(function(e){a=e.data;for(var t=[],s=0;s<a.length;){for(var c=[],n=0;n<3;n++)s+n<a.length&&c.push(a[s+n]);t.push(c),s+=3}var r=Object(u.jsx)("div",{children:t.map((function(e,t){return Object(u.jsx)(E.a,{children:e.map((function(e,t){return Object(u.jsx)(m.a,{children:Object(u.jsxs)(F.a,{className:"storyCard",children:[Object(u.jsxs)(F.a.Body,{children:[Object(u.jsxs)(F.a.Title,{children:[e.article_title," (",e.article_id,")"]}),Object(u.jsx)(F.a.Text,{children:e.article_content})]}),Object(u.jsxs)(g.a,{className:"list-group-flush",children:[Object(u.jsxs)(M.a,{children:["like: ",e.like_count," | view: ",e.view_count]}),Object(u.jsxs)(M.a,{children:["From: ",e.school_from.name," | To: ",e.school_to.name]}),Object(u.jsxs)(M.a,{children:["Major: ",e.major.name]})]}),Object(u.jsxs)(F.a.Body,{children:[Object(u.jsx)(F.a.Link,{as:j.b,to:{pathname:"/story/"+e.article_id},children:"Enter"}),Object(u.jsx)(F.a.Link,{href:"",children:"Report"})]})]})},t)}))},t)}))});this.setState({renderList:r})}.bind(this)).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.updateRenderList("all"),this.setState({rendered:!0})}},{key:"componentDidUpdate",value:function(e){this.props!=e&&(this.updateRenderList("all"),this.setState({rendered:!0}))}},{key:"render",value:function(){return this.state.rendered?Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)(j.b,{to:"/story/new",children:Object(u.jsx)(z.a,{variant:"primary",children:"Write"})})}),Object(u.jsx)("div",{children:Object(u.jsx)(H.a,{children:Object(u.jsx)(B.a,{children:Object(u.jsxs)(E.a,{className:"modal_item",children:[Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Name"}),Object(u.jsx)(H.a.Control,{name:"name",type:"text",value:this.state.name,placeholder:"Name",onChange:this.handleInputChange})]}),Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Email Address"}),Object(u.jsx)(H.a.Control,{name:"email",type:"email",value:this.state.email,placeholder:"Email Address",onChange:this.handleInputChange})]}),Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Email Address"}),Object(u.jsx)(H.a.Control,{name:"email",type:"email",value:this.state.email,placeholder:"Email Address",onChange:this.handleInputChange})]}),Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Email Address"}),Object(u.jsx)(H.a.Control,{name:"email",type:"email",value:this.state.email,placeholder:"Email Address",onChange:this.handleInputChange})]})]})})})}),Object(u.jsx)("div",{className:"storyList",children:this.state.renderList})]}):null}}]),a}(c.a.Component))),R=function(){var e=Object(D.b)(),t=(e.oktaAuth,e.authState);return!t||t.isAuthenticated?Object(u.jsx)(P,{}):Object(u.jsx)(J.a,{to:{pathname:"/login"}})},U=(a(195),a(153)),G=a(154),W=a.n(G),V=a(84);a(254);V.b.use(V.a.AutoResize,{min:500,max:800}),V.b.use(V.a.TabInsert,{tabMapValue:1});var K=new W.a({}),Q=function(){var e=Object(D.b)(),t=(e.oktaAuth,e.authState),a=Object(s.useState)({menu:!0,md:!0,html:!1}),c=Object(d.a)(a,2),n=c[0],r=(c[1],Object(s.useState)(!0)),i=Object(d.a)(r,2),l=i[0],o=i[1],j=Object(s.useState)(""),h=Object(d.a)(j,2),b=(h[0],h[1]),O=Object(s.useState)(""),x=Object(d.a)(O,2),g=x[0],f=x[1],v=Object(s.useState)(""),N=Object(d.a)(v,2),S=N[0],k=(N[1],Object(s.useState)("")),y=Object(d.a)(k,2),C=y[0],_=(y[1],Object(s.useState)("")),I=Object(d.a)(_,2),A=I[0],w=(I[1],new U.a("full",{html:!0,xhtmlOut:!1,breaks:!0,langPrefix:"language-",linkify:!0,linkTarget:"",typographer:!1,quotes:"\u201c\u201d\u2018\u2019"}));function T(){}return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){o(!l)},children:"Toggle"})}),Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:function(){var e={headers:{Authorization:"Bearer ".concat(t.idToken.idToken)}};localStorage.getItem("user_id")||p.a.get("http://127.0.0.1:5000/user",e).then(function(e){localStorage.setItem("user_id",e.data)}.bind(this)).catch((function(e){console.log(e)}));var a={article_content:g,article_title:"test_article"};p.a.post("http://127.0.0.1:5000/story?user_id="+localStorage.getItem("user_id"),a,e).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},children:"Submit"})}),Object(u.jsxs)(H.a,{children:[Object(u.jsx)(B.a,{children:Object(u.jsx)(E.a,{className:"modal_item",children:Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Title"}),Object(u.jsx)(H.a.Control,{name:"title",type:"text",value:S,placeholder:"Title",onChange:T})]})})}),Object(u.jsx)(B.a,{children:Object(u.jsxs)(E.a,{className:"modal_item",children:[Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Transfer From"}),Object(u.jsx)(H.a.Control,{name:"transferFrom",type:"text",value:C,placeholder:"N/A",onChange:T})]}),Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Transfer To"}),Object(u.jsx)(H.a.Control,{name:"transferTo",type:"text",value:A,placeholder:"N/A",onChange:T})]})]})}),Object(u.jsxs)(H.a.Group,{className:"form_group modal_item",children:[Object(u.jsx)(H.a.Label,{children:"Message"}),l&&Object(u.jsx)(V.b,{style:{marginLeft:"5rem",marginRight:"5rem"},value:g,view:n,renderHTML:function(e){return K.render(e)},onChange:function(e){var t=e.html,a=e.text;b(t),f(a)}}),!l&&Object(u.jsx)("div",{dangerouslySetInnerHTML:{__html:w.render(g)}})]})]})]})},Y=(a(255),a(85)),X=a(271),Z=function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(v.a)(this,a),(s=t.call(this,e)).handleClick=function(){s.props.toggle()},s.state={name:"",email:"",form_body:""},s.handleInputChange=s.handleInputChange.bind(Object(S.a)(s)),s.handleSubmit=s.handleSubmit.bind(Object(S.a)(s)),s.handleClick=s.handleClick.bind(Object(S.a)(s)),s}return Object(N.a)(a,[{key:"handleInputChange",value:function(e){var t=e.target;"name"===t.name?this.setState({name:t.value}):"email"===t.name?this.setState({email:t.value}):this.setState({form_body:t.value})}},{key:"handleSubmit",value:function(e){e.preventDefault();JSON.stringify({name:this.state.name,email:this.state.email,form_body:this.state.form_body});p.a.post("https://fhda-api-test.azurewebsites.net/contact",{name:this.state.name,email:this.state.email,form_body:this.state.form_body}).then((function(e){console.log(e)})).catch((function(e){console.log(e)})),this.setState({name:"",email:"",form_body:""})}},{key:"render",value:function(){return Object(u.jsxs)(X.a.Dialog,{children:[Object(u.jsx)(X.a.Header,{children:Object(u.jsx)(X.a.Title,{className:"contact_title",children:"Contact Form"})}),Object(u.jsx)(X.a.Body,{children:Object(u.jsxs)(H.a,{children:[Object(u.jsx)(B.a,{children:Object(u.jsxs)(E.a,{className:"modal_item",children:[Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Name"}),Object(u.jsx)(H.a.Control,{name:"name",type:"text",value:this.state.name,placeholder:"Name",onChange:this.handleInputChange})]}),Object(u.jsxs)(m.a,{children:[Object(u.jsx)(H.a.Label,{children:"Email Address"}),Object(u.jsx)(H.a.Control,{name:"email",type:"email",value:this.state.email,placeholder:"Email Address",onChange:this.handleInputChange})]})]})}),Object(u.jsxs)(H.a.Group,{className:"form_group modal_item",children:[Object(u.jsx)(H.a.Label,{children:"Message"}),Object(u.jsx)("br",{}),Object(u.jsx)(H.a.Control,{as:"textarea",value:this.state.form_body,onChange:this.handleInputChange,rows:5,className:"contact_textarea"})]})]})}),Object(u.jsx)(X.a.Footer,{children:Object(u.jsx)(z.a,{variant:"primary",onClick:this.handleSubmit,children:"Submit"})})]})}}]),a}(c.a.Component),$=(a(256),function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(v.a)(this,a),(s=t.call(this,e)).state={currentPage:"about"},s.handleContactClick=s.handleContactClick.bind(Object(S.a)(s)),s}return Object(N.a)(a,[{key:"handleContactClick",value:function(e){this.setState({currentPage:"contact"})}},{key:"render",value:function(){return Object(u.jsxs)("div",{className:"App",children:[Object(u.jsxs)("div",{className:"about-project",children:[Object(u.jsx)("h3",{className:"bt-h3 bt-bold mb-2 about-header",children:"About FHDA Times"}),Object(u.jsx)("p",{className:"bt-p mb-3",children:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Placerat vestibulum lectus mauris ultrices eros in cursus turpis massa."})]}),Object(u.jsxs)(Y.a,{className:"project-carousel",children:[Object(u.jsx)(Y.a.Item,{children:Object(u.jsx)("img",{className:"d-block w-100",src:"./logo-placeholder-png.png",alt:"First slide"})}),Object(u.jsx)(Y.a.Item,{children:Object(u.jsx)("img",{className:"d-block w-100",src:"./logo-placeholder-png.png",alt:"Second slide"})}),Object(u.jsx)(Y.a.Item,{children:Object(u.jsx)("img",{className:"d-block w-100",src:"./logo-placeholder-png.png",alt:"Third slide"})}),Object(u.jsx)(Y.a.Item,{children:Object(u.jsx)("img",{className:"d-block w-100",src:"./logo-placeholder-png.png",alt:"Forth slide"})})]}),Object(u.jsxs)("div",{className:"about-project",children:[Object(u.jsx)("h3",{className:"bt-h3 bt-bold mb-2 about-header",children:"About Us"}),Object(u.jsx)("p",{className:"bt-p mb-3",children:"Nulla posuere sollicitudin aliquam ultrices sagittis orci a scelerisque. Enim facilisis gravida neque convallis a cras. Nunc eget lorem dolor sed viverra ipsum nunc. Tristique senectus et netus et malesuada fames ac turpis egestas. Risus quis varius quam quisque id diam. "})]}),Object(u.jsxs)("div",{className:"about-value",children:[Object(u.jsx)("h3",{className:"bt-h3 bt-bold mb-2 about-header",children:"Our Values"}),Object(u.jsxs)(E.a,{children:[Object(u.jsx)(m.a,{className:"value-col",children:Object(u.jsx)("div",{className:"value",children:Object(u.jsxs)("div",{className:"value-content",children:[Object(u.jsx)("img",{src:"./logo-placeholder-png.png"}),Object(u.jsx)("h6",{children:"test v1"}),Object(u.jsx)("p",{children:"Mauris rhoncus aenean vel elit scelerisque. Consectetur adipiscing elit duis tristique. Enim facilisis gravida neque convallis a cras."})]})})}),Object(u.jsx)(m.a,{className:"value-col",children:Object(u.jsx)("div",{className:"value",children:Object(u.jsxs)("div",{className:"value-content",children:[Object(u.jsx)("img",{src:"./logo-placeholder-png.png"}),Object(u.jsx)("h6",{children:"test v2"}),Object(u.jsx)("p",{children:"Aliquam malesuada bibendum arcu vitae elementum. Tortor dignissim convallis aenean et tortor at risus. Nunc aliquet bibendum enim facilisis gravida neque."})]})})}),Object(u.jsx)(m.a,{className:"value-col",children:Object(u.jsx)("div",{className:"value",children:Object(u.jsxs)("div",{className:"value-content",children:[Object(u.jsx)("img",{src:"./logo-placeholder-png.png"}),Object(u.jsx)("h6",{children:"test v3"}),Object(u.jsx)("p",{children:"Mauris vitae ultricies leo integer. Pellentesque habitant morbi tristique senectus. Integer quis auctor elit sed vulputate. Nibh tellus molestie nunc non blandit massa enim."})]})})})]})]}),Object(u.jsx)("div",{children:Object(u.jsx)(Z,{})})]})}}]),a}(c.a.Component)),ee=a(273),te=a(274),ae=a.p+"static/media/fhdalogo.8e3300e8.jpg",se=function(e){var t=e.setCorsErrorModalOpen,a=Object(D.b)(),s=a.authState,c=a.oktaAuth,n=function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,c.signOut();case 3:e.next=12;break;case 5:if(e.prev=5,e.t0=e.catch(0),"AuthApiError"!==(a=e.t0).name||a.errorCode||"Failed to fetch"!==a.xhr.message){e.next=11;break}t(!0),e.next=12;break;case 11:throw e.t0;case 12:case"end":return e.stop()}var a}),e,null,[[0,5]])})));return function(){return e.apply(this,arguments)}}();return s?Object(u.jsx)("div",{children:Object(u.jsxs)(ee.a,{bg:"red",variant:"dark",className:"navbar",children:[Object(u.jsxs)(j.b,{className:"navbar-brand",to:"/",children:[Object(u.jsx)("img",{className:"navbar-img",src:ae,alt:""})," FHDATime"]}),Object(u.jsxs)(te.a,{className:"mr-auto",children:[Object(u.jsx)(j.b,{className:"nav-link",to:"/",children:"Home"}),Object(u.jsx)(j.b,{className:"nav-link",to:"/catalog",children:"Catalog"}),Object(u.jsx)(j.b,{className:"nav-link",to:"/story",children:"Story"}),Object(u.jsx)(j.b,{className:"nav-link",to:"/about",children:"About"}),s.isAuthenticated&&Object(u.jsx)(j.b,{className:"nav-link",onClick:n,to:"/",children:"Logout"}),!s.isPending&&!s.isAuthenticated&&Object(u.jsx)(j.b,{className:"nav-link",to:"/login",children:"Login"})]})]})}):null},ce=a(157),ne=a.n(ce),re=(a(259),function(e){var t=e.config,a=e.onSuccess,c=e.onError,n=Object(s.useRef)();return Object(s.useEffect)((function(){if(!n.current)return!1;var e=new ne.a(t);return e.showSignInToGetTokens({el:n.current}).then(a).catch(c),function(){return e.remove()}}),[t,a,c]),Object(u.jsx)("div",{ref:n})}),ie=(window.location.origin,function(e){var t=e.config,a=Object(D.b)(),s=a.oktaAuth,c=a.authState;return c?c.isAuthenticated?Object(u.jsx)(J.a,{to:{pathname:"/"}}):Object(u.jsx)(re,{config:t,onSuccess:function(e){p.a.get("http://127.0.0.1:5000/user",{headers:{Authorization:"Bearer ".concat(e.idToken.idToken)}}).then(function(e){localStorage.setItem("user_id",e.data)}.bind(undefined)).catch((function(e){console.log(e)})),s.handleLoginRedirect(e)},onError:function(e){console.log("error logging in",e)}}):null}),le=a(60),oe="0oa13dfryq3ffhUKb5d7",de="https://dev-19217834.okta.com/oauth2/default",je=window.origin,he={oktaConfig:{clientId:oe,issuer:de,redirectUri:window.origin,scopes:["openid","profile","email"],pkce:!0},oktaSignInConfig:{baseUrl:"https://dev-19217834.okta.com",clientId:oe,issuer:de,redirectUri:je,features:{registration:!0}}},ue=(a(260),a(262),Object(D.c)(function(e){Object(k.a)(a,e);var t=Object(y.a)(a);function a(e){var s;return Object(v.a)(this,a),(s=t.call(this,e)).state={articleId:s.props.routerProps.match.params.article_id,dataFetched:!1},s}return Object(N.a)(a,[{key:"componentDidMount",value:function(){p.a.get("http://127.0.0.1:5000/story?article_id="+this.state.articleId,{headers:{Authorization:"Bearer ".concat(this.props.oktaAuth.authStateManager._authState.idToken.value)}}).then(function(e){this.setState({articleDetail:e.data[0],dataFetched:!0})}.bind(this)).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.dataFetched?Object(u.jsx)("div",{children:Object(u.jsx)("section",{className:"post-content-section",children:Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)(E.a,{children:[Object(u.jsxs)(m.a,{lg:12,md:12,sm:12,className:"post-title-block",children:[Object(u.jsx)("h1",{className:"text-center",children:this.state.articleDetail.article_title}),Object(u.jsxs)("ul",{className:"list-inline text-center",children:[Object(u.jsx)("li",{children:"Author | Not in DB"}),Object(u.jsxs)("li",{children:["Post Time | ",this.state.articleDetail.post_time]}),Object(u.jsxs)("li",{children:["Last Updated Time | ",this.state.articleDetail.last_updated_time]})]})]}),Object(u.jsx)(m.a,{lg:9,md:9,sm:12,children:Object(u.jsx)("p",{children:"Leaving this part empty for future markdown display"})}),Object(u.jsxs)(m.a,{lg:3,md:3,sm:12,children:[Object(u.jsxs)("div",{className:"well",children:[Object(u.jsx)("h2",{children:"Utility box"}),Object(u.jsx)("p",{children:"BlaBla"})]}),Object(u.jsxs)("div",{className:"well",children:[Object(u.jsx)("h2",{children:"About Author"}),Object(u.jsx)("img",{src:"",className:"img-rounded"}),Object(u.jsx)("p",{children:"Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna"})]})]})]})})})}):null}}]),a}(c.a.Component))),be=new le.OktaAuth(he.oktaConfig);function me(){console.log(be);var e=c.a.useState(!1),t=Object(d.a)(e,2),a=(t[0],t[1]),s=Object(J.g)(),n=function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.replace(Object(le.toRelativeUrl)(a||"/",window.location.origin));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}();return Object(u.jsx)("div",{className:"app",children:Object(u.jsxs)(D.a,{oktaAuth:be,restoreOriginalUri:n,children:[Object(u.jsx)(se,{setCorsErrorModalOpen:a}),Object(u.jsxs)(J.d,{children:[Object(u.jsx)(J.b,{exact:!0,path:"/",render:function(e){return Object(u.jsx)(b,{routerProps:e})}}),Object(u.jsx)(J.b,{exact:!0,path:"/catalog",render:function(e){return Object(u.jsx)(L,{routerProps:e})}}),Object(u.jsx)(J.b,{exact:!0,path:"/story",render:function(e){return Object(u.jsx)(R,{routerProps:e})}}),Object(u.jsx)(J.b,{exact:!0,path:"/about",render:function(e){return Object(u.jsx)($,{routerProps:e})}}),Object(u.jsx)(J.b,{path:"/login",render:function(){return Object(u.jsx)(ie,{config:he.oktaSignInConfig})}}),Object(u.jsx)(J.b,{path:"/story/new",render:function(){return Object(u.jsx)(Q,{})}}),Object(u.jsx)(J.b,{path:"/story/:article_id?",render:function(e){return Object(u.jsx)(ue,{routerProps:e})}})]})]})})}r.a.render(Object(u.jsxs)(j.a,{children:[Object(u.jsx)(me,{}),","]}),document.getElementById("root"))}},[[261,1,2]]]);
//# sourceMappingURL=main.80074e26.chunk.js.map